# AIæ–‡ç« æ¬è¿å·¥å…· - éƒ¨ç½²æŒ‡å—

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

### åŸºç¡€ç¯å¢ƒ
- **æ“ä½œç³»ç»Ÿ**: Windows 10/11, macOS 10.15+, Ubuntu 18.04+
- **Pythonç‰ˆæœ¬**: 3.9+
- **å†…å­˜**: æœ€ä½4GBï¼Œæ¨è8GB+
- **ç£ç›˜ç©ºé—´**: æœ€ä½2GBå¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: ç¨³å®šçš„äº’è”ç½‘è¿æ¥

### æµè§ˆå™¨è¦æ±‚
- **æŒ‡çº¹æµè§ˆå™¨**: Fingerprint Chromium (æ¨è)
- **å¤‡ç”¨æµè§ˆå™¨**: Chrome 90+ æˆ– Chromium 90+

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### 1. è·å–æºç 
```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd ai-article-tool

# æˆ–ç›´æ¥ä¸‹è½½è§£å‹æºç åŒ…
```

### 2. å®‰è£…ä¾èµ–
```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend

# å®‰è£…Pythonä¾èµ–
pip install -r requirements.txt

# æˆ–ä½¿ç”¨conda
conda install --file requirements.txt
```

### 3. é…ç½®ç¯å¢ƒ
```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘é…ç½®æ–‡ä»¶
nano .env
```

### 4. å¯åŠ¨æœåŠ¡
```bash
# æ–¹å¼1: ä½¿ç”¨å¯åŠ¨è„šæœ¬ (æ¨è)
python run.py

# æ–¹å¼2: ç›´æ¥ä½¿ç”¨uvicorn
uvicorn app.main:app --host 127.0.0.1 --port 8007 --reload
```

### 5. è®¿é—®ç³»ç»Ÿ
- **ä¸»ç•Œé¢**: http://127.0.0.1:8007
- **APIæ–‡æ¡£**: http://127.0.0.1:8007/docs
- **å¥åº·æ£€æŸ¥**: http://127.0.0.1:8007/health

## âš™ï¸ è¯¦ç»†é…ç½®

### ç¯å¢ƒå˜é‡é…ç½® (.env)
```env
# åº”ç”¨åŸºç¡€é…ç½®
APP_NAME="AI Article Migration Tool"
APP_VERSION="1.0.0"
DEBUG=true
HOST=127.0.0.1
PORT=8007

# æ•°æ®åº“é…ç½®
DATABASE_URL=sqlite:///./data/articles.db

# æ—¥å¿—é…ç½®
LOG_LEVEL=INFO
LOG_DIRECTORY=./logs

# æµè§ˆå™¨é…ç½®
BROWSER_CHROME_PATH=C:\Users\asus\AppData\Local\Chromium\Application\chrome.exe
BROWSER_HEADLESS_MODE=false
BROWSER_USER_DATA_DIR=./chro

# AIæœåŠ¡é…ç½®
LLM_API_BASE_URL=http://localhost:8000/v1/chat/completions
LLM_API_KEY=sk-dummy-f4689c69ad5746a8bb5b5e897b4033c7
LLM_MODEL=Claude-4-Sonnet

# æ£€æµ‹æœåŠ¡é…ç½®
ZHUQUE_DETECTION_URL=https://matrix.tencent.com/ai-detect/ai_gen_txt
AI_DETECTION_THRESHOLD=25.0
```

### æµè§ˆå™¨é…ç½®
```bash
# æŒ‡çº¹æµè§ˆå™¨è·¯å¾„ (Windows)
BROWSER_CHROME_PATH=C:\Users\asus\AppData\Local\Chromium\Application\chrome.exe

# æŒ‡çº¹æµè§ˆå™¨è·¯å¾„ (macOS)
BROWSER_CHROME_PATH=/Applications/Chromium.app/Contents/MacOS/Chromium

# æŒ‡çº¹æµè§ˆå™¨è·¯å¾„ (Linux)
BROWSER_CHROME_PATH=/usr/bin/chromium-browser
```

## ğŸ”§ åŠŸèƒ½æµ‹è¯•

### 1. åŸºç¡€åŠŸèƒ½æµ‹è¯•
```bash
# æµ‹è¯•APIå¥åº·çŠ¶æ€
curl http://127.0.0.1:8007/health

# æµ‹è¯•æ–‡ç« æœç´¢
curl -X POST http://127.0.0.1:8007/api/v1/search \
  -H "Content-Type: application/json" \
  -d '{"search_mode": "category", "category": "artificial-intelligence", "platform": "medium", "limit": 5}'
```

### 2. æ–‡ç« å¤„ç†æµ‹è¯•
```bash
# åˆ›å»ºæµ‹è¯•æ–‡ç« 
curl -X POST http://127.0.0.1:8007/api/v1/articles/create \
  -H "Content-Type: application/json" \
  -d '{"url": "https://medium.com/@example/test-article", "source_platform": "medium"}'

# å¼€å§‹å¤„ç†æ–‡ç«  (å‡è®¾è¿”å›çš„æ–‡ç« IDä¸º1)
curl -X POST http://127.0.0.1:8007/api/v1/articles/1/process \
  -H "Content-Type: application/json" \
  -d '{"steps": ["extract", "translate", "optimize", "detect"], "auto_publish": false}'
```

### 3. å‰ç«¯ç•Œé¢æµ‹è¯•
1. æ‰“å¼€æµè§ˆå™¨è®¿é—® http://127.0.0.1:8007
2. æµ‹è¯•å·¦ä¾§èœå•å¯¼èˆª
3. æµ‹è¯•æ–‡ç« æœç´¢åŠŸèƒ½
4. æµ‹è¯•"å¼€å§‹å¤„ç†"æŒ‰é’®
5. è§‚å¯Ÿå¤„ç†è¿›åº¦æ˜¾ç¤º

## ğŸ› å¸¸è§é—®é¢˜

### 1. ç«¯å£å ç”¨
```bash
# æŸ¥çœ‹ç«¯å£å ç”¨
netstat -ano | findstr :8007

# æ€æ­»å ç”¨è¿›ç¨‹
taskkill /PID <è¿›ç¨‹ID> /F

# æˆ–æ›´æ¢ç«¯å£
uvicorn app.main:app --host 127.0.0.1 --port 8008 --reload
```

### 2. æµè§ˆå™¨å¯åŠ¨å¤±è´¥
```bash
# æ£€æŸ¥æµè§ˆå™¨è·¯å¾„
ls -la /path/to/chrome

# æ£€æŸ¥ç”¨æˆ·æ•°æ®ç›®å½•æƒé™
chmod 755 ./chro

# æ‰‹åŠ¨æµ‹è¯•æµè§ˆå™¨
/path/to/chrome --version
```

### 3. æ•°æ®åº“è¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥æ•°æ®åº“æ–‡ä»¶
ls -la ./data/articles.db

# é‡æ–°åˆå§‹åŒ–æ•°æ®åº“
rm ./data/articles.db
python -c "from app.core.database import init_db; init_db()"
```

### 4. ä¾èµ–å®‰è£…å¤±è´¥
```bash
# å‡çº§pip
pip install --upgrade pip

# ä½¿ç”¨å›½å†…é•œåƒ
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple/

# å•ç‹¬å®‰è£…é—®é¢˜ä¾èµ–
pip install drissionpage --upgrade
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### 1. æ•°æ®åº“ä¼˜åŒ–
- å®šæœŸæ¸…ç†è¿‡æœŸæ—¥å¿—
- å»ºç«‹é€‚å½“çš„ç´¢å¼•
- é…ç½®è¿æ¥æ± 

### 2. æµè§ˆå™¨ä¼˜åŒ–
- ä½¿ç”¨æ— å¤´æ¨¡å¼æå‡æ€§èƒ½
- é…ç½®åˆé€‚çš„è¶…æ—¶æ—¶é—´
- å®šæœŸæ¸…ç†æµè§ˆå™¨ç¼“å­˜

### 3. å†…å­˜ä¼˜åŒ–
- ç›‘æ§å†…å­˜ä½¿ç”¨æƒ…å†µ
- é…ç½®é€‚å½“çš„è¿›ç¨‹æ•°é‡
- ä½¿ç”¨å¼‚æ­¥å¤„ç†å‡å°‘é˜»å¡

## ğŸ”’ å®‰å…¨é…ç½®

### 1. ç½‘ç»œå®‰å…¨
- é…ç½®é˜²ç«å¢™è§„åˆ™
- ä½¿ç”¨HTTPSåè®®
- é™åˆ¶APIè®¿é—®é¢‘ç‡

### 2. æ•°æ®å®‰å…¨
- å®šæœŸå¤‡ä»½æ•°æ®åº“
- åŠ å¯†æ•æ„Ÿé…ç½®ä¿¡æ¯
- è®¾ç½®è®¿é—®æƒé™æ§åˆ¶

## ğŸ“ˆ ç›‘æ§å’Œæ—¥å¿—

### 1. æ—¥å¿—é…ç½®
```python
# æ—¥å¿—çº§åˆ«
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR

# æ—¥å¿—æ–‡ä»¶
./logs/article_processor.log  # å¤„ç†æ—¥å¿—
./logs/errors.log            # é”™è¯¯æ—¥å¿—
```

### 2. ç›‘æ§æŒ‡æ ‡
- æ–‡ç« å¤„ç†æˆåŠŸç‡
- APIå“åº”æ—¶é—´
- ç³»ç»Ÿèµ„æºä½¿ç”¨ç‡
- é”™è¯¯å‘ç”Ÿé¢‘ç‡

## ğŸ”„ æ›´æ–°å’Œç»´æŠ¤

### 1. ç‰ˆæœ¬æ›´æ–°
```bash
# å¤‡ä»½å½“å‰ç‰ˆæœ¬
cp -r backend backend_backup

# æ›´æ–°ä»£ç 
git pull origin main

# é‡å¯æœåŠ¡
python run.py
```

### 2. æ•°æ®å¤‡ä»½
```bash
# å¤‡ä»½æ•°æ®åº“
cp ./data/articles.db ./backup/articles_$(date +%Y%m%d).db

# å¤‡ä»½é…ç½®æ–‡ä»¶
cp .env ./backup/env_$(date +%Y%m%d).backup
```
