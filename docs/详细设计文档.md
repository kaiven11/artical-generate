# ä»Šæ—¥å¤´æ¡AIèµ›é“æ–‡ç« æ¬è¿å·¥å…· - è¯¦ç»†è®¾è®¡æ–‡æ¡£

## 1. æ–‡æ¡£æ¦‚è¿°

### 1.1 æ–‡æ¡£ç›®çš„
æœ¬æ–‡æ¡£è¯¦ç»†æè¿°ä»Šæ—¥å¤´æ¡AIèµ›é“æ–‡ç« æ¬è¿å·¥å…·çš„ç³»ç»Ÿæ¶æ„ã€æŠ€æœ¯å®ç°ã€æ¨¡å—è®¾è®¡ç­‰æŠ€æœ¯ç»†èŠ‚ï¼Œä¸ºå¼€å‘å›¢é˜Ÿæä¾›å®Œæ•´çš„æŠ€æœ¯æŒ‡å¯¼ã€‚

### 1.2 æ–‡æ¡£èŒƒå›´
- ç³»ç»Ÿæ•´ä½“æ¶æ„è®¾è®¡
- æ ¸å¿ƒæ¨¡å—è¯¦ç»†è®¾è®¡
- æ•°æ®æµå’Œä¸šåŠ¡æµç¨‹
- æŠ€æœ¯é€‰å‹å’Œå®ç°æ–¹æ¡ˆ
- æ€§èƒ½å’Œå®‰å…¨è€ƒè™‘

### 1.3 æœ¯è¯­å®šä¹‰
- **æ–‡ç« æ¬è¿**: ä»æºå¹³å°è·å–æ–‡ç« å¹¶å‘å¸ƒåˆ°ç›®æ ‡å¹³å°çš„å®Œæ•´æµç¨‹
- **åŸåˆ›æ€§æ£€æµ‹**: æ£€æµ‹æ–‡ç« å†…å®¹æ˜¯å¦ä¸ºåŸåˆ›æˆ–é‡å¤çš„æŠ€æœ¯
- **AIæ£€æµ‹**: æ£€æµ‹æ–‡ç« æ˜¯å¦ç”±AIç”Ÿæˆçš„æŠ€æœ¯
- **æŒ‡çº¹æµè§ˆå™¨**: å…·æœ‰é˜²æ£€æµ‹åŠŸèƒ½çš„æµè§ˆå™¨

### 1.4 å½“å‰å®ç°çŠ¶æ€ (2025-06-27æ›´æ–°)

#### 1.4.1 å·²å®Œæˆæ¨¡å— âœ…
- **å‰ç«¯ç•Œé¢**: å·¦å³å¸ƒå±€å“åº”å¼è®¾è®¡ï¼Œå®æ—¶è¿›åº¦æ˜¾ç¤º
- **APIç½‘å…³**: FastAPIæ¡†æ¶ï¼ŒRESTfulæ¥å£è®¾è®¡
- **æ–‡ç« ç®¡ç†**: åˆ›å»ºã€æŸ¥è¯¢ã€çŠ¶æ€æ›´æ–°å®Œæ•´æµç¨‹
- **å†…å®¹æå–**: Freedium.cfd + Chromeæµè§ˆå™¨è‡ªåŠ¨åŒ–
- **ä»»åŠ¡ç³»ç»Ÿ**: å¼‚æ­¥å¤„ç†ä»»åŠ¡å’ŒçŠ¶æ€ç›‘æ§
- **æ•°æ®æŒä¹…åŒ–**: SQLiteæ•°æ®åº“é›†æˆ

#### 1.4.2 å¼€å‘ä¸­æ¨¡å— ğŸ”„
- **AIç¿»è¯‘æœåŠ¡**: Claude-4-Sonnet APIé›†æˆ
- **å†…å®¹ä¼˜åŒ–**: æ™ºèƒ½é‡å†™å’Œç»“æ„ä¼˜åŒ–
- **AIæ£€æµ‹å¾ªç¯**: æœ±é›€æ£€æµ‹ä¼˜åŒ–æµç¨‹
- **å‘å¸ƒç³»ç»Ÿ**: ä»Šæ—¥å¤´æ¡å¹³å°é€‚é…å™¨

#### 1.4.3 æ ¸å¿ƒAPIæ¥å£
```
POST /api/v1/articles/create     # æ–‡ç« åˆ›å»º
POST /api/v1/articles/{id}/process  # æ–‡ç« å¤„ç†
GET  /api/v1/tasks/{id}/status   # ä»»åŠ¡çŠ¶æ€æŸ¥è¯¢
POST /api/v1/search              # æ–‡ç« æœç´¢
```

## 2. ç³»ç»Ÿæ¶æ„è®¾è®¡

### 2.1 æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å‰ç«¯å±•ç¤ºå±‚ (Frontend)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Web UI (HTML/CSS/JS) â”‚ æ¡Œé¢åº”ç”¨ (Electron) â”‚ ç§»åŠ¨ç«¯é€‚é…    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    APIç½‘å…³å±‚ (API Gateway)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è·¯ç”±åˆ†å‘ â”‚ è®¤è¯æˆæƒ â”‚ é™æµæ§åˆ¶ â”‚ æ—¥å¿—è®°å½• â”‚ é”™è¯¯å¤„ç†        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä¸šåŠ¡é€»è¾‘å±‚ (Business Logic)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ–‡ç« ç®¡ç† â”‚ ç¿»è¯‘æœåŠ¡ â”‚ æ£€æµ‹æœåŠ¡ â”‚ å‘å¸ƒæœåŠ¡ â”‚ APIé…ç½®ç®¡ç†      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®è®¿é—®å±‚ (Data Access)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ORMæ˜ å°„ â”‚ æ•°æ®ç¼“å­˜ â”‚ è¿æ¥æ±  â”‚ äº‹åŠ¡ç®¡ç† â”‚ æ•°æ®éªŒè¯          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®å­˜å‚¨å±‚ (Data Storage)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  SQLiteæ•°æ®åº“ â”‚ æ–‡ä»¶å­˜å‚¨ â”‚ é…ç½®æ–‡ä»¶ â”‚ æ—¥å¿—æ–‡ä»¶ â”‚ ç¼“å­˜å­˜å‚¨    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æŠ€æœ¯æ¶æ„

#### 2.2.1 åç«¯æŠ€æœ¯æ ˆ
- **Webæ¡†æ¶**: FastAPI (Python 3.9+)
- **æ•°æ®åº“**: SQLite 3.x
- **ORM**: SQLAlchemy 2.x
- **å¼‚æ­¥å¤„ç†**: asyncio + Celery
- **æµè§ˆå™¨è‡ªåŠ¨åŒ–**: DrissionPage
- **HTTPå®¢æˆ·ç«¯**: httpx + aiohttp
- **é…ç½®ç®¡ç†**: Pydantic Settings
- **æ—¥å¿—ç³»ç»Ÿ**: structlog + loguru

#### 2.2.2 å‰ç«¯æŠ€æœ¯æ ˆ
- **åŸºç¡€æŠ€æœ¯**: HTML5 + CSS3 + JavaScript (ES2022)
- **UIæ¡†æ¶**: Bootstrap 5.3 + Custom Components
- **å›¾è¡¨åº“**: Chart.js 4.x
- **å›¾æ ‡åº“**: Font Awesome 6.x
- **çŠ¶æ€ç®¡ç†**: åŸç”ŸJavaScript + LocalStorage
- **æ„å»ºå·¥å…·**: Vite 4.x (å¼€å‘ç¯å¢ƒ)

#### 2.2.3 ç¬¬ä¸‰æ–¹é›†æˆ
- **AIæœåŠ¡**: OpenAI GPT-4, Anthropic Claude, Google Gemini
- **æ£€æµ‹æœåŠ¡**: æœ±é›€æ£€æµ‹API, è‡ªç ”æ£€æµ‹ç®—æ³•
- **æµè§ˆå™¨**: Fingerprint Chromium
- **ä»£ç†æœåŠ¡**: æ”¯æŒHTTP/HTTPS/SOCKS5ä»£ç†

### 2.3 éƒ¨ç½²æ¶æ„

#### 2.3.1 å•æœºéƒ¨ç½²æ¨¡å¼
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·æ¡Œé¢ç¯å¢ƒ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   Web UI    â”‚  â”‚  FastAPI    â”‚  â”‚   SQLite    â”‚          â”‚
â”‚  â”‚  (æµè§ˆå™¨)    â”‚  â”‚   æœåŠ¡ç«¯     â”‚  â”‚   æ•°æ®åº“     â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚         â”‚                â”‚                â”‚                 â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                          â”‚                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ Fingerprint â”‚  â”‚   ä»»åŠ¡é˜Ÿåˆ—   â”‚  â”‚   æ–‡ä»¶å­˜å‚¨   â”‚          â”‚
â”‚  â”‚  Chromium   â”‚  â”‚  (å†…å­˜é˜Ÿåˆ—)  â”‚  â”‚  (æœ¬åœ°ç£ç›˜)  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 3. æ ¸å¿ƒæ¨¡å—è®¾è®¡

### 3.1 å¹³å°ç®¡ç†æ¨¡å— (PlatformManager)

#### 3.1.1 æ¨¡å—èŒè´£
- å¹³å°æ’ä»¶çš„æ³¨å†Œå’Œç®¡ç†
- æ’ä»¶ç”Ÿå‘½å‘¨æœŸæ§åˆ¶
- å¹³å°é…ç½®ç»Ÿä¸€ç®¡ç†
- æ’ä»¶ä¾èµ–å…³ç³»å¤„ç†

#### 3.1.2 æ ¸å¿ƒç±»è®¾è®¡

```python
class PlatformManager:
    """å¹³å°ç®¡ç†å™¨"""

    def __init__(self):
        self.adapters = {
            'source': {},      # æ¥æºå¹³å°é€‚é…å™¨
            'ai': {},          # AIæœåŠ¡é€‚é…å™¨
            'publish': {},     # å‘å¸ƒå¹³å°é€‚é…å™¨
            'detection': {}    # æ£€æµ‹æœåŠ¡é€‚é…å™¨
        }
        self.plugin_registry = PluginRegistry()

    async def register_adapter(self, adapter_type: str, name: str, adapter: BaseAdapter):
        """æ³¨å†Œå¹³å°é€‚é…å™¨"""
        if adapter_type not in self.adapters:
            raise ValueError(f"Unknown adapter type: {adapter_type}")

        # éªŒè¯é€‚é…å™¨æ¥å£
        if not isinstance(adapter, self._get_base_adapter_class(adapter_type)):
            raise TypeError(f"Adapter must implement {adapter_type} interface")

        self.adapters[adapter_type][name] = adapter
        await self._save_adapter_config(adapter_type, name, adapter.get_config())

    async def get_adapter(self, adapter_type: str, name: str) -> BaseAdapter:
        """è·å–å¹³å°é€‚é…å™¨"""
        if adapter_type not in self.adapters:
            raise ValueError(f"Unknown adapter type: {adapter_type}")

        if name not in self.adapters[adapter_type]:
            # å°è¯•åŠ¨æ€åŠ è½½æ’ä»¶
            await self._load_plugin(adapter_type, name)

        return self.adapters[adapter_type].get(name)

    async def list_adapters(self, adapter_type: str = None) -> Dict[str, List[AdapterInfo]]:
        """åˆ—å‡ºæ‰€æœ‰é€‚é…å™¨"""
        if adapter_type:
            return {adapter_type: self._get_adapter_info(adapter_type)}

        return {
            adapter_type: self._get_adapter_info(adapter_type)
            for adapter_type in self.adapters.keys()
        }

    async def install_plugin(self, plugin_path: str) -> bool:
        """å®‰è£…æ’ä»¶"""
        return await self.plugin_registry.install(plugin_path)

    async def uninstall_plugin(self, plugin_name: str) -> bool:
        """å¸è½½æ’ä»¶"""
        return await self.plugin_registry.uninstall(plugin_name)

class BaseAdapter(ABC):
    """é€‚é…å™¨åŸºç±»"""

    @abstractmethod
    def get_platform_info(self) -> PlatformInfo:
        """è·å–å¹³å°ä¿¡æ¯"""

    @abstractmethod
    def get_config(self) -> dict:
        """è·å–é…ç½®ä¿¡æ¯"""

    @abstractmethod
    async def test_connection(self) -> bool:
        """æµ‹è¯•è¿æ¥"""
```

### 3.2 æ–‡ç« è·å–æ¨¡å— (ArticleSource)

#### 3.2.1 æ¨¡å—èŒè´£
- å¤šå¹³å°æ–‡ç« æœç´¢å’Œå‘ç°
- æ–‡ç« å†…å®¹æŠ“å–å’Œæ ‡å‡†åŒ–
- æ–‡ç« è´¨é‡é¢„è¯„ä¼°
- é‡å¤æ–‡ç« è¿‡æ»¤å’Œå»é‡

#### 3.2.2 æ ¸å¿ƒç±»è®¾è®¡

```python
class BaseSourceAdapter(BaseAdapter):
    """æ¥æºå¹³å°é€‚é…å™¨åŸºç±»"""

    @abstractmethod
    async def search_articles(self, keywords: List[str], limit: int = 20) -> List[ArticleInfo]:
        """æœç´¢æ–‡ç« """

    @abstractmethod
    async def extract_content(self, url: str) -> ArticleContent:
        """æå–æ–‡ç« å†…å®¹"""

    @abstractmethod
    def get_supported_features(self) -> List[str]:
        """è·å–æ”¯æŒçš„åŠŸèƒ½"""

class MediumSourceAdapter(BaseSourceAdapter):
    """Mediumå¹³å°é€‚é…å™¨"""

    def __init__(self, browser_manager: BrowserManager):
        self.browser_manager = browser_manager
        self.search_url = "https://medium.com/search"
        self.freedium_url = "https://freedium.cfd"

    async def search_articles(self, keywords: List[str], limit: int = 20) -> List[ArticleInfo]:
        """æœç´¢Mediumæ–‡ç« """
        session = await self.browser_manager.create_session()
        try:
            articles = []
            for keyword in keywords:
                search_url = f"{self.search_url}?q={keyword}"
                await session.navigate_to(search_url)

                # æå–æ–‡ç« é“¾æ¥
                article_links = await session.extract_article_links()
                articles.extend(article_links[:limit])

            return [ArticleInfo.from_dict(article) for article in articles]
        finally:
            await self.browser_manager.close_session(session.id)

    async def extract_content(self, url: str) -> ArticleContent:
        """æå–æ–‡ç« å†…å®¹"""
        session = await self.browser_manager.create_session()
        try:
            # é¦–å…ˆå°è¯•ç›´æ¥è®¿é—®
            await session.navigate_to(url)

            # æ£€æŸ¥æ˜¯å¦é‡åˆ°ä»˜è´¹å¢™
            if await session.has_paywall():
                # ä½¿ç”¨Freedium.cfdç»•è¿‡ä»˜è´¹å¢™
                freedium_url = f"{self.freedium_url}/{url}"
                await session.navigate_to(freedium_url)
                await session.wait_for_content_load()

            # æå–æ–‡ç« å†…å®¹
            article_data = await session.extract_article_data()

            return ArticleContent(
                title=article_data.get('title'),
                content=article_data.get('content'),
                author=article_data.get('author'),
                publish_date=article_data.get('publish_date'),
                tags=article_data.get('tags', []),
                source_url=url,
                platform='medium'
            )
        finally:
            await self.browser_manager.close_session(session.id)

    def get_platform_info(self) -> PlatformInfo:
        return PlatformInfo(
            name="medium",
            display_name="Medium",
            type="source",
            features=["search", "extract", "paywall_bypass"],
            requires_auth=False
        )

class DevToSourceAdapter(BaseSourceAdapter):
    """Dev.toå¹³å°é€‚é…å™¨"""

class HashnodeSourceAdapter(BaseSourceAdapter):
    """Hashnodeå¹³å°é€‚é…å™¨"""

class ArticleSourceManager:
    """æ–‡ç« æ¥æºç®¡ç†å™¨"""

    def __init__(self, platform_manager: PlatformManager):
        self.platform_manager = platform_manager

    async def search_from_all_platforms(self, keywords: List[str], limit: int = 20) -> List[ArticleInfo]:
        """ä»æ‰€æœ‰å¹³å°æœç´¢æ–‡ç« """
        all_articles = []
        source_adapters = await self.platform_manager.list_adapters('source')

        for adapter_name, adapter_info in source_adapters.items():
            if adapter_info.is_enabled:
                adapter = await self.platform_manager.get_adapter('source', adapter_name)
                try:
                    articles = await adapter.search_articles(keywords, limit)
                    all_articles.extend(articles)
                except Exception as e:
                    logger.error(f"Failed to search from {adapter_name}: {e}")

        return self._deduplicate_articles(all_articles)

    async def extract_content(self, url: str, platform: str = None) -> ArticleContent:
        """æå–æ–‡ç« å†…å®¹"""
        if not platform:
            platform = self._detect_platform(url)

        adapter = await self.platform_manager.get_adapter('source', platform)
        return await adapter.extract_content(url)
```

### 3.2 æ–‡ç« ç®¡ç†æ¨¡å— (ArticleManager)

#### 3.2.1 æ¨¡å—èŒè´£
- æ–‡ç« çš„CRUDæ“ä½œ
- æ–‡ç« çŠ¶æ€ç®¡ç†å’Œæµè½¬
- æ–‡ç« å†…å®¹ç‰ˆæœ¬æ§åˆ¶
- æ‰¹é‡æ“ä½œæ”¯æŒ

#### 3.2.2 æ ¸å¿ƒç±»è®¾è®¡

```python
class Article:
    """æ–‡ç« å®ä½“ç±»"""
    id: int
    title: str
    original_url: str
    source_platform: str
    content_original: str
    content_translated: str
    content_optimized: str
    content_final: str
    status: ArticleStatus
    created_at: datetime
    updated_at: datetime
    metadata: dict

class ArticleStatus(Enum):
    """æ–‡ç« çŠ¶æ€æšä¸¾"""
    PENDING = "pending"          # å¾…å¤„ç†
    TRANSLATING = "translating"  # ç¿»è¯‘ä¸­
    TRANSLATED = "translated"    # å·²ç¿»è¯‘
    OPTIMIZING = "optimizing"    # ä¼˜åŒ–ä¸­
    OPTIMIZED = "optimized"      # å·²ä¼˜åŒ–
    DETECTING = "detecting"      # æ£€æµ‹ä¸­
    DETECTED = "detected"        # å·²æ£€æµ‹
    PUBLISHING = "publishing"    # å‘å¸ƒä¸­
    PUBLISHED = "published"      # å·²å‘å¸ƒ
    FAILED = "failed"           # å¤±è´¥
    CANCELLED = "cancelled"     # å·²å–æ¶ˆ

class ArticleManager:
    """æ–‡ç« ç®¡ç†å™¨"""
    
    async def create_article(self, url: str, platform: str) -> Article:
        """åˆ›å»ºæ–°æ–‡ç« """
        
    async def get_article(self, article_id: int) -> Article:
        """è·å–æ–‡ç« è¯¦æƒ…"""
        
    async def update_article_status(self, article_id: int, status: ArticleStatus):
        """æ›´æ–°æ–‡ç« çŠ¶æ€"""
        
    async def batch_process(self, article_ids: List[int], operation: str):
        """æ‰¹é‡å¤„ç†æ–‡ç« """
        
    async def search_articles(self, filters: dict) -> List[Article]:
        """æœç´¢æ–‡ç« """
```

### 3.3 ç¿»è¯‘æœåŠ¡æ¨¡å— (TranslationService)

#### 3.3.1 æ¨¡å—èŒè´£
- å¤šAIå¹³å°ç¿»è¯‘æœåŠ¡é›†æˆ
- ç¿»è¯‘è´¨é‡è¯„ä¼°å’Œä¼˜åŒ–
- ç¿»è¯‘ç¼“å­˜å’Œé‡è¯•æœºåˆ¶
- æˆæœ¬æ§åˆ¶å’Œè´Ÿè½½å‡è¡¡

#### 3.3.2 æ ¸å¿ƒç±»è®¾è®¡

```python
class TranslationProvider(ABC):
    """ç¿»è¯‘æœåŠ¡æä¾›å•†æŠ½è±¡åŸºç±»"""
    
    @abstractmethod
    async def translate(self, text: str, prompt: str) -> TranslationResult:
        """æ‰§è¡Œç¿»è¯‘"""
        
    @abstractmethod
    async def test_connection(self) -> bool:
        """æµ‹è¯•è¿æ¥"""

class OpenAIProvider(TranslationProvider):
    """OpenAIç¿»è¯‘æœåŠ¡"""
    
class ClaudeProvider(TranslationProvider):
    """Claudeç¿»è¯‘æœåŠ¡"""
    
class GeminiProvider(TranslationProvider):
    """Geminiç¿»è¯‘æœåŠ¡"""

class TranslationService:
    """ç¿»è¯‘æœåŠ¡ç®¡ç†å™¨"""
    
    def __init__(self):
        self.providers: Dict[str, TranslationProvider] = {}
        self.load_balancer = LoadBalancer()
        self.cache = TranslationCache()
    
    async def translate_article(self, article: Article, prompt_template: str) -> str:
        """ç¿»è¯‘æ–‡ç« """
        
    async def optimize_content(self, content: str, optimization_prompt: str) -> str:
        """å†…å®¹ä¼˜åŒ–"""
        
    def add_provider(self, name: str, provider: TranslationProvider):
        """æ·»åŠ ç¿»è¯‘æœåŠ¡æä¾›å•†"""

### 3.4 APIé…ç½®ç®¡ç†æ¨¡å— (APIConfigManager)

#### 3.4.1 æ¨¡å—èŒè´£
- AIæœåŠ¡æä¾›å•†é…ç½®ç®¡ç†
- APIå¯†é’¥å®‰å…¨å­˜å‚¨å’ŒéªŒè¯
- è´Ÿè½½å‡è¡¡ç­–ç•¥é…ç½®
- ä½¿ç”¨ç»Ÿè®¡å’Œæˆæœ¬ç›‘æ§

#### 3.4.2 æ ¸å¿ƒç±»è®¾è®¡

```python
class APIProvider:
    """APIæœåŠ¡æä¾›å•†é…ç½®"""
    id: int
    name: str
    display_name: str
    api_key: str
    api_url: str
    is_enabled: bool
    weight: int
    max_requests_per_minute: int
    max_requests_per_hour: int
    cost_per_1k_tokens_input: float
    cost_per_1k_tokens_output: float
    created_at: datetime
    updated_at: datetime

class APIModel:
    """APIæ¨¡å‹é…ç½®"""
    id: int
    provider_id: int
    model_name: str
    display_name: str
    model_type: str
    max_tokens: int
    temperature: float
    top_p: float
    frequency_penalty: float
    presence_penalty: float
    timeout_seconds: int
    use_cases: List[str]
    is_enabled: bool

class LoadBalanceStrategy(Enum):
    """è´Ÿè½½å‡è¡¡ç­–ç•¥"""
    ROUND_ROBIN = "round_robin"
    RANDOM = "random"
    WEIGHTED = "weighted"
    LEAST_CONNECTIONS = "least_connections"
    RESPONSE_TIME = "response_time"

class APIConfigManager:
    """APIé…ç½®ç®¡ç†å™¨"""

    async def add_provider(self, provider_config: dict) -> APIProvider:
        """æ·»åŠ APIæœåŠ¡æä¾›å•†"""

    async def update_provider(self, provider_id: int, config: dict) -> APIProvider:
        """æ›´æ–°æœåŠ¡æä¾›å•†é…ç½®"""

    async def test_provider_connection(self, provider_id: int) -> bool:
        """æµ‹è¯•æœåŠ¡æä¾›å•†è¿æ¥"""

    async def get_optimal_provider(self, task_type: str) -> APIProvider:
        """æ ¹æ®è´Ÿè½½å‡è¡¡ç­–ç•¥è·å–æœ€ä¼˜æœåŠ¡æä¾›å•†"""

    async def record_usage(self, provider_id: int, tokens_used: int, cost: float):
        """è®°å½•APIä½¿ç”¨æƒ…å†µ"""

    async def get_usage_statistics(self, time_range: str) -> dict:
        """è·å–ä½¿ç”¨ç»Ÿè®¡"""

### 3.5 æ£€æµ‹æœåŠ¡æ¨¡å— (DetectionService)

#### 3.5.1 æ¨¡å—èŒè´£
- åŸåˆ›æ€§æ£€æµ‹
- AIç”Ÿæˆå†…å®¹æ£€æµ‹
- æ£€æµ‹ç»“æœè¯„ä¼°å’Œå¤„ç†
- å¤šæ£€æµ‹å¹³å°é›†æˆ

#### 3.5.2 æ ¸å¿ƒç±»è®¾è®¡

```python
class DetectionType(Enum):
    """æ£€æµ‹ç±»å‹"""
    ORIGINALITY = "originality"  # åŸåˆ›æ€§æ£€æµ‹
    AI_GENERATED = "ai_generated"  # AIæ£€æµ‹

class DetectionResult:
    """æ£€æµ‹ç»“æœ"""
    detection_type: DetectionType
    platform: str
    score: float
    is_passed: bool
    details: dict
    detected_at: datetime

class DetectionProvider(ABC):
    """æ£€æµ‹æœåŠ¡æä¾›å•†æŠ½è±¡åŸºç±»"""

    @abstractmethod
    async def detect_originality(self, content: str) -> DetectionResult:
        """åŸåˆ›æ€§æ£€æµ‹"""

    @abstractmethod
    async def detect_ai_generated(self, content: str) -> DetectionResult:
        """AIæ£€æµ‹"""

class ZhuqueDetectionProvider(DetectionProvider):
    """æœ±é›€æ£€æµ‹æœåŠ¡ - ç½‘é¡µè‡ªåŠ¨åŒ–æ“ä½œ"""

    def __init__(self, browser_manager: BrowserManager):
        self.browser_manager = browser_manager
        self.login_url = "https://www.zhuque.com/login"
        self.detection_url = "https://www.zhuque.com/detection"

    async def detect_originality(self, content: str) -> DetectionResult:
        """é€šè¿‡ç½‘é¡µæ“ä½œè¿›è¡ŒåŸåˆ›æ€§æ£€æµ‹"""
        session = await self.browser_manager.create_session()
        try:
            # å¯¼èˆªåˆ°æ£€æµ‹é¡µé¢
            await session.navigate_to(self.detection_url)

            # è¾“å…¥æ£€æµ‹å†…å®¹
            await session.fill_text_area("content", content)

            # ç‚¹å‡»æ£€æµ‹æŒ‰é’®
            await session.click_button("detect")

            # ç­‰å¾…ç»“æœå¹¶è§£æ
            result = await session.wait_for_result()

            return DetectionResult(
                detection_type=DetectionType.ORIGINALITY,
                platform="zhuque",
                score=result.get("score", 0),
                is_passed=result.get("score", 0) >= self.threshold,
                details=result,
                detected_at=datetime.utcnow()
            )
        finally:
            await self.browser_manager.close_session(session.id)

class DetectionService:
    """æ£€æµ‹æœåŠ¡ç®¡ç†å™¨"""

    def __init__(self):
        self.providers: Dict[str, DetectionProvider] = {}
        self.thresholds = {
            DetectionType.ORIGINALITY: 80.0,
            DetectionType.AI_GENERATED: 70.0
        }

    async def detect_article(self, article: Article) -> List[DetectionResult]:
        """æ£€æµ‹æ–‡ç« """

    async def batch_detect(self, article_ids: List[int]) -> Dict[int, List[DetectionResult]]:
        """æ‰¹é‡æ£€æµ‹"""

### 3.6 å‘å¸ƒæœåŠ¡æ¨¡å— (PublishService)

#### 3.6.1 æ¨¡å—èŒè´£
- å¤šå¹³å°å‘å¸ƒæ”¯æŒ
- å‘å¸ƒä»»åŠ¡è°ƒåº¦å’Œç®¡ç†
- å‘å¸ƒçŠ¶æ€ç›‘æ§
- å‘å¸ƒå¤±è´¥é‡è¯•æœºåˆ¶

#### 3.6.2 æ ¸å¿ƒç±»è®¾è®¡

```python
class PublishPlatform(Enum):
    """å‘å¸ƒå¹³å°"""
    TOUTIAO = "toutiao"  # ä»Šæ—¥å¤´æ¡
    WEIXIN = "weixin"    # å¾®ä¿¡å…¬ä¼—å·
    ZHIHU = "zhihu"      # çŸ¥ä¹
    CSDN = "csdn"        # CSDN

class PublishStatus(Enum):
    """å‘å¸ƒçŠ¶æ€"""
    PENDING = "pending"
    PUBLISHING = "publishing"
    PUBLISHED = "published"
    FAILED = "failed"
    CANCELLED = "cancelled"

class PublishTask:
    """å‘å¸ƒä»»åŠ¡"""
    id: int
    article_id: int
    platform: PublishPlatform
    status: PublishStatus
    scheduled_at: datetime
    published_at: datetime
    error_message: str
    retry_count: int
    max_retries: int

class PublishProvider(ABC):
    """å‘å¸ƒæœåŠ¡æä¾›å•†æŠ½è±¡åŸºç±»"""

    @abstractmethod
    async def publish_article(self, article: Article, config: dict) -> bool:
        """å‘å¸ƒæ–‡ç« """

    @abstractmethod
    async def get_publish_status(self, task_id: str) -> PublishStatus:
        """è·å–å‘å¸ƒçŠ¶æ€"""

class ToutiaoPublishProvider(PublishProvider):
    """ä»Šæ—¥å¤´æ¡å‘å¸ƒæœåŠ¡ - ç½‘é¡µè‡ªåŠ¨åŒ–æ“ä½œ"""

    def __init__(self, browser_manager: BrowserManager):
        self.browser_manager = browser_manager
        self.login_url = "https://mp.toutiao.com/login"
        self.publish_url = "https://mp.toutiao.com/profile_v4/graphic/publish"

    async def publish_article(self, article: Article, config: dict) -> bool:
        """é€šè¿‡ç½‘é¡µæ“ä½œå‘å¸ƒæ–‡ç« åˆ°ä»Šæ—¥å¤´æ¡"""
        session = await self.browser_manager.create_session()
        try:
            # å¯¼èˆªåˆ°å‘å¸ƒé¡µé¢
            await session.navigate_to(self.publish_url)

            # å¡«å†™æ–‡ç« æ ‡é¢˜
            await session.fill_input("title", config.get("title", article.title))

            # å¡«å†™æ–‡ç« å†…å®¹
            await session.fill_rich_editor("content", article.content_final)

            # è®¾ç½®æ–‡ç« åˆ†ç±»
            await session.select_option("category", config.get("category", "ç§‘æŠ€"))

            # æ·»åŠ æ ‡ç­¾
            tags = config.get("tags", [])
            for tag in tags:
                await session.add_tag(tag)

            # ä¸Šä¼ å°é¢å›¾ç‰‡ï¼ˆå¦‚æœæœ‰ï¼‰
            if config.get("cover_image"):
                await session.upload_cover_image(config["cover_image"])

            # è®¾ç½®å‘å¸ƒé€‰é¡¹
            await session.set_checkbox("allow_comments", config.get("allow_comments", True))
            await session.set_checkbox("allow_repost", config.get("allow_repost", True))

            # ç‚¹å‡»å‘å¸ƒæŒ‰é’®
            await session.click_button("publish")

            # ç­‰å¾…å‘å¸ƒå®Œæˆå¹¶è·å–ç»“æœ
            result = await session.wait_for_publish_result()

            return result.get("success", False)
        finally:
            await self.browser_manager.close_session(session.id)

class PublishService:
    """å‘å¸ƒæœåŠ¡ç®¡ç†å™¨"""

    async def schedule_publish(self, article_id: int, platform: PublishPlatform,
                             scheduled_at: datetime = None) -> PublishTask:
        """è°ƒåº¦å‘å¸ƒä»»åŠ¡"""

    async def execute_publish_task(self, task_id: int) -> bool:
        """æ‰§è¡Œå‘å¸ƒä»»åŠ¡"""

    async def retry_failed_task(self, task_id: int) -> bool:
        """é‡è¯•å¤±è´¥çš„å‘å¸ƒä»»åŠ¡"""

### 3.7 æµè§ˆå™¨ç®¡ç†æ¨¡å— (BrowserManager)

#### 3.7.1 æ¨¡å—èŒè´£
- Fingerprint Chromiumæµè§ˆå™¨ç®¡ç†
- æµè§ˆå™¨æŒ‡çº¹éšæœºåŒ–
- ä¼šè¯ç®¡ç†å’Œå¤ç”¨
- åæ£€æµ‹æœºåˆ¶

#### 3.7.2 æ ¸å¿ƒç±»è®¾è®¡

```python
class BrowserProfile:
    """æµè§ˆå™¨é…ç½®æ–‡ä»¶"""
    id: int
    name: str
    user_agent: str
    screen_resolution: str
    timezone: str
    language: str
    proxy_config: dict
    fingerprint_config: dict
    is_active: bool
    last_used_at: datetime

class BrowserSession:
    """æµè§ˆå™¨ä¼šè¯"""
    id: str
    profile_id: int
    driver: WebDriver
    created_at: datetime
    last_activity_at: datetime
    is_active: bool

class BrowserManager:
    """æµè§ˆå™¨ç®¡ç†å™¨"""

    def __init__(self, chrome_path: str, user_data_dir: str):
        self.chrome_path = chrome_path
        self.user_data_dir = user_data_dir
        self.sessions: Dict[str, BrowserSession] = {}
        self.profiles: List[BrowserProfile] = []

    async def create_session(self, profile_id: int = None) -> BrowserSession:
        """åˆ›å»ºæµè§ˆå™¨ä¼šè¯"""

    async def get_session(self, session_id: str) -> BrowserSession:
        """è·å–æµè§ˆå™¨ä¼šè¯"""

    async def close_session(self, session_id: str):
        """å…³é—­æµè§ˆå™¨ä¼šè¯"""

    async def randomize_fingerprint(self, profile_id: int):
        """éšæœºåŒ–æµè§ˆå™¨æŒ‡çº¹"""

    async def navigate_to_page(self, session_id: str, url: str):
        """å¯¼èˆªåˆ°æŒ‡å®šé¡µé¢"""

### 3.8 ä»»åŠ¡è°ƒåº¦æ¨¡å— (TaskScheduler)

#### 3.8.1 æ¨¡å—èŒè´£
- æ–‡ç« å¤„ç†ä»»åŠ¡è°ƒåº¦
- ä»»åŠ¡é˜Ÿåˆ—ç®¡ç†
- å¹¶å‘æ§åˆ¶å’Œé™æµ
- ä»»åŠ¡ç›‘æ§å’Œæ—¥å¿—

#### 3.8.2 æ ¸å¿ƒç±»è®¾è®¡

```python
class TaskType(Enum):
    """ä»»åŠ¡ç±»å‹"""
    TRANSLATE = "translate"
    OPTIMIZE = "optimize"
    DETECT = "detect"
    PUBLISH = "publish"

class TaskPriority(Enum):
    """ä»»åŠ¡ä¼˜å…ˆçº§"""
    LOW = 1
    NORMAL = 2
    HIGH = 3
    URGENT = 4

class Task:
    """ä»»åŠ¡å®ä½“"""
    id: str
    type: TaskType
    priority: TaskPriority
    article_id: int
    parameters: dict
    status: str
    created_at: datetime
    started_at: datetime
    completed_at: datetime
    error_message: str
    retry_count: int
    max_retries: int

class TaskQueue:
    """ä»»åŠ¡é˜Ÿåˆ—"""

    def __init__(self, max_size: int = 1000):
        self.queue = asyncio.PriorityQueue(maxsize=max_size)
        self.running_tasks: Dict[str, Task] = {}
        self.completed_tasks: List[Task] = []

    async def add_task(self, task: Task):
        """æ·»åŠ ä»»åŠ¡åˆ°é˜Ÿåˆ—"""

    async def get_next_task(self) -> Task:
        """è·å–ä¸‹ä¸€ä¸ªå¾…æ‰§è¡Œä»»åŠ¡"""

    async def mark_task_completed(self, task_id: str, result: dict = None):
        """æ ‡è®°ä»»åŠ¡å®Œæˆ"""

    async def mark_task_failed(self, task_id: str, error: str):
        """æ ‡è®°ä»»åŠ¡å¤±è´¥"""

class TaskScheduler:
    """ä»»åŠ¡è°ƒåº¦å™¨"""

    def __init__(self, max_concurrent_tasks: int = 5):
        self.max_concurrent_tasks = max_concurrent_tasks
        self.task_queue = TaskQueue()
        self.workers: List[asyncio.Task] = []
        self.is_running = False

    async def start(self):
        """å¯åŠ¨ä»»åŠ¡è°ƒåº¦å™¨"""

    async def stop(self):
        """åœæ­¢ä»»åŠ¡è°ƒåº¦å™¨"""

    async def submit_task(self, task: Task) -> str:
        """æäº¤ä»»åŠ¡"""

    async def cancel_task(self, task_id: str) -> bool:
        """å–æ¶ˆä»»åŠ¡"""

    async def get_task_status(self, task_id: str) -> dict:
        """è·å–ä»»åŠ¡çŠ¶æ€"""

    async def _worker(self):
        """ä»»åŠ¡æ‰§è¡Œå·¥ä½œçº¿ç¨‹"""

### 3.9 é…ç½®ç®¡ç†æ¨¡å— (ConfigManager)

#### 3.9.1 æ¨¡å—èŒè´£
- ç³»ç»Ÿé…ç½®ç®¡ç†
- ç”¨æˆ·åå¥½è®¾ç½®
- é…ç½®æ–‡ä»¶è¯»å†™
- é…ç½®éªŒè¯å’Œé»˜è®¤å€¼

#### 3.9.2 æ ¸å¿ƒç±»è®¾è®¡

```python
class SystemConfig:
    """ç³»ç»Ÿé…ç½®"""
    work_directory: str
    database_path: str
    log_level: str
    max_log_file_size: str
    auto_backup_enabled: bool
    backup_interval_hours: int
    max_concurrent_tasks: int
    request_timeout_seconds: int

class BrowserConfig:
    """æµè§ˆå™¨é…ç½®"""
    chrome_path: str
    user_data_directory: str
    fingerprint_randomization_enabled: bool
    randomization_frequency: int
    headless_mode: bool
    window_size: str
    proxy_enabled: bool
    proxy_config: dict

class DetectionConfig:
    """æ£€æµ‹é…ç½®"""
    originality_threshold: float
    ai_detection_threshold: float
    auto_retry_count: int
    retry_interval_seconds: int
    enabled_providers: List[str]

class PublishConfig:
    """å‘å¸ƒé…ç½®"""
    default_platform: str
    auto_publish_enabled: bool
    publish_time_strategy: str
    default_category: str
    default_tags: List[str]
    allow_comments: bool
    allow_repost: bool

class ConfigManager:
    """é…ç½®ç®¡ç†å™¨"""

    def __init__(self, config_file_path: str):
        self.config_file_path = config_file_path
        self.system_config: SystemConfig = None
        self.browser_config: BrowserConfig = None
        self.detection_config: DetectionConfig = None
        self.publish_config: PublishConfig = None

    async def load_config(self):
        """åŠ è½½é…ç½®"""

    async def save_config(self):
        """ä¿å­˜é…ç½®"""

    async def update_config(self, section: str, config_data: dict):
        """æ›´æ–°é…ç½®"""

    async def reset_to_default(self, section: str = None):
        """é‡ç½®ä¸ºé»˜è®¤é…ç½®"""

    def validate_config(self) -> List[str]:
        """éªŒè¯é…ç½®æœ‰æ•ˆæ€§"""

## 4. æ•°æ®æµè®¾è®¡

### 4.1 æ–‡ç« å¤„ç†æ•°æ®æµ

```
ç”¨æˆ·è¾“å…¥æ–‡ç« URL
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ–‡ç« æŠ“å–       â”‚ â† æµè§ˆå™¨ç®¡ç†å™¨
â”‚  (Web Scraping) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å†…å®¹æå–       â”‚
â”‚ (Content Parse) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ–‡ç« ç¿»è¯‘       â”‚ â† APIé…ç½®ç®¡ç†å™¨
â”‚ (Translation)   â”‚ â† ç¿»è¯‘æœåŠ¡
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å†…å®¹ä¼˜åŒ–       â”‚ â† æç¤ºè¯ç®¡ç†å™¨
â”‚ (Optimization)  â”‚ â† AIæœåŠ¡
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   åŸåˆ›æ€§æ£€æµ‹     â”‚ â† æ£€æµ‹æœåŠ¡
â”‚ (Originality)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   AIæ£€æµ‹        â”‚ â† æ£€æµ‹æœåŠ¡
â”‚ (AI Detection)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å†…å®¹å‘å¸ƒ       â”‚ â† å‘å¸ƒæœåŠ¡
â”‚ (Publishing)    â”‚ â† æµè§ˆå™¨ç®¡ç†å™¨
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
    å‘å¸ƒå®Œæˆ
```

### 4.2 APIè¯·æ±‚æ•°æ®æµ

```
å‰ç«¯è¯·æ±‚
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   APIç½‘å…³       â”‚ â† è®¤è¯ä¸­é—´ä»¶
â”‚ (FastAPI)       â”‚ â† é™æµä¸­é—´ä»¶
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ä¸šåŠ¡é€»è¾‘å±‚     â”‚ â† æœåŠ¡æ³¨å…¥
â”‚ (Service Layer) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ•°æ®è®¿é—®å±‚     â”‚ â† ORMæ˜ å°„
â”‚ (Repository)    â”‚ â† ç¼“å­˜å±‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ•°æ®åº“        â”‚
â”‚ (SQLite)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 å®æ—¶é€šä¿¡æ•°æ®æµ

```
åç«¯äº‹ä»¶
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   äº‹ä»¶æ€»çº¿       â”‚
â”‚ (Event Bus)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   WebSocket     â”‚ â† è¿æ¥ç®¡ç†å™¨
â”‚   æœåŠ¡å™¨        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å‰ç«¯ç›‘å¬å™¨     â”‚
â”‚ (Event Listener)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
    UIæ›´æ–°
```

## 5. æ€§èƒ½è®¾è®¡

### 5.1 å¹¶å‘å¤„ç†

#### 5.1.1 å¼‚æ­¥å¤„ç†æ¶æ„
- **åç¨‹æ± **: ä½¿ç”¨asyncioç®¡ç†å¹¶å‘ä»»åŠ¡
- **çº¿ç¨‹æ± **: CPUå¯†é›†å‹ä»»åŠ¡ä½¿ç”¨çº¿ç¨‹æ± 
- **è¿›ç¨‹æ± **: å¤§å‹æ–‡ä»¶å¤„ç†ä½¿ç”¨è¿›ç¨‹æ± 
- **é˜Ÿåˆ—ç®¡ç†**: ä½¿ç”¨ä¼˜å…ˆçº§é˜Ÿåˆ—ç®¡ç†ä»»åŠ¡

#### 5.1.2 å¹¶å‘æ§åˆ¶ç­–ç•¥
```python
class ConcurrencyController:
    """å¹¶å‘æ§åˆ¶å™¨"""

    def __init__(self):
        self.translation_semaphore = asyncio.Semaphore(3)  # ç¿»è¯‘å¹¶å‘æ•°
        self.detection_semaphore = asyncio.Semaphore(2)    # æ£€æµ‹å¹¶å‘æ•°
        self.publish_semaphore = asyncio.Semaphore(1)      # å‘å¸ƒå¹¶å‘æ•°
        self.browser_semaphore = asyncio.Semaphore(2)      # æµè§ˆå™¨å¹¶å‘æ•°

    async def acquire_translation_slot(self):
        """è·å–ç¿»è¯‘æ§½ä½"""
        await self.translation_semaphore.acquire()

    def release_translation_slot(self):
        """é‡Šæ”¾ç¿»è¯‘æ§½ä½"""
        self.translation_semaphore.release()
```

### 5.2 ç¼“å­˜ç­–ç•¥

#### 5.2.1 å¤šçº§ç¼“å­˜æ¶æ„
```python
class CacheManager:
    """ç¼“å­˜ç®¡ç†å™¨"""

    def __init__(self):
        self.memory_cache = {}  # å†…å­˜ç¼“å­˜
        self.file_cache = FileCache()  # æ–‡ä»¶ç¼“å­˜
        self.db_cache = DatabaseCache()  # æ•°æ®åº“ç¼“å­˜

    async def get(self, key: str) -> Any:
        """è·å–ç¼“å­˜æ•°æ®"""
        # 1. æ£€æŸ¥å†…å­˜ç¼“å­˜
        if key in self.memory_cache:
            return self.memory_cache[key]

        # 2. æ£€æŸ¥æ–‡ä»¶ç¼“å­˜
        data = await self.file_cache.get(key)
        if data:
            self.memory_cache[key] = data
            return data

        # 3. æ£€æŸ¥æ•°æ®åº“ç¼“å­˜
        data = await self.db_cache.get(key)
        if data:
            self.memory_cache[key] = data
            await self.file_cache.set(key, data)
            return data

        return None

    async def set(self, key: str, value: Any, ttl: int = 3600):
        """è®¾ç½®ç¼“å­˜æ•°æ®"""
        self.memory_cache[key] = value
        await self.file_cache.set(key, value, ttl)
        await self.db_cache.set(key, value, ttl)
```

#### 5.2.2 ç¼“å­˜ç­–ç•¥é…ç½®
- **ç¿»è¯‘ç¼“å­˜**: 24å°æ—¶ï¼ŒåŸºäºå†…å®¹å“ˆå¸Œ
- **æ£€æµ‹ç»“æœç¼“å­˜**: 7å¤©ï¼ŒåŸºäºå†…å®¹å“ˆå¸Œ
- **APIå“åº”ç¼“å­˜**: 1å°æ—¶ï¼ŒåŸºäºè¯·æ±‚å‚æ•°
- **é…ç½®ç¼“å­˜**: å†…å­˜å¸¸é©»ï¼Œé…ç½®å˜æ›´æ—¶åˆ·æ–°

### 5.3 æ•°æ®åº“ä¼˜åŒ–

#### 5.3.1 ç´¢å¼•ç­–ç•¥
```sql
-- æ–‡ç« è¡¨ç´¢å¼•
CREATE INDEX idx_articles_status ON articles(status);
CREATE INDEX idx_articles_created_at ON articles(created_at);
CREATE INDEX idx_articles_source_platform ON articles(source_platform);
CREATE INDEX idx_articles_url_hash ON articles(url_hash);

-- ä»»åŠ¡è¡¨ç´¢å¼•
CREATE INDEX idx_tasks_status ON tasks(status);
CREATE INDEX idx_tasks_priority_created ON tasks(priority, created_at);
CREATE INDEX idx_tasks_article_id ON tasks(article_id);

-- APIä½¿ç”¨ç»Ÿè®¡ç´¢å¼•
CREATE INDEX idx_api_usage_provider_date ON api_usage_stats(provider_id, date);
CREATE INDEX idx_api_usage_date ON api_usage_stats(date);
```

#### 5.3.2 æŸ¥è¯¢ä¼˜åŒ–
- **åˆ†é¡µæŸ¥è¯¢**: ä½¿ç”¨LIMITå’ŒOFFSETä¼˜åŒ–å¤§æ•°æ®é›†æŸ¥è¯¢
- **æ‰¹é‡æ“ä½œ**: ä½¿ç”¨æ‰¹é‡æ’å…¥å’Œæ›´æ–°å‡å°‘æ•°æ®åº“è¿æ¥
- **è¿æ¥æ± **: é…ç½®åˆé€‚çš„æ•°æ®åº“è¿æ¥æ± å¤§å°
- **äº‹åŠ¡ç®¡ç†**: åˆç†ä½¿ç”¨äº‹åŠ¡ï¼Œé¿å…é•¿äº‹åŠ¡é”å®š

### 5.4 å†…å­˜ç®¡ç†

#### 5.4.1 å†…å­˜ç›‘æ§
```python
class MemoryMonitor:
    """å†…å­˜ç›‘æ§å™¨"""

    def __init__(self, max_memory_mb: int = 512):
        self.max_memory_mb = max_memory_mb
        self.current_memory_mb = 0

    def check_memory_usage(self) -> dict:
        """æ£€æŸ¥å†…å­˜ä½¿ç”¨æƒ…å†µ"""
        import psutil
        process = psutil.Process()
        memory_info = process.memory_info()

        return {
            "rss_mb": memory_info.rss / 1024 / 1024,
            "vms_mb": memory_info.vms / 1024 / 1024,
            "percent": process.memory_percent(),
            "available_mb": psutil.virtual_memory().available / 1024 / 1024
        }

    async def cleanup_if_needed(self):
        """å¿…è¦æ—¶æ¸…ç†å†…å­˜"""
        memory_info = self.check_memory_usage()
        if memory_info["rss_mb"] > self.max_memory_mb:
            await self._cleanup_caches()
            await self._cleanup_sessions()

    async def _cleanup_caches(self):
        """æ¸…ç†ç¼“å­˜"""

    async def _cleanup_sessions(self):
        """æ¸…ç†æµè§ˆå™¨ä¼šè¯"""

## 6. å®‰å…¨è®¾è®¡

### 6.1 æ•°æ®å®‰å…¨

#### 6.1.1 æ•æ„Ÿæ•°æ®åŠ å¯†
```python
class SecurityManager:
    """å®‰å…¨ç®¡ç†å™¨"""

    def __init__(self, encryption_key: str):
        self.cipher = Fernet(encryption_key.encode())

    def encrypt_api_key(self, api_key: str) -> str:
        """åŠ å¯†APIå¯†é’¥"""
        return self.cipher.encrypt(api_key.encode()).decode()

    def decrypt_api_key(self, encrypted_key: str) -> str:
        """è§£å¯†APIå¯†é’¥"""
        return self.cipher.decrypt(encrypted_key.encode()).decode()

    def hash_content(self, content: str) -> str:
        """å†…å®¹å“ˆå¸Œ"""
        return hashlib.sha256(content.encode()).hexdigest()

    def generate_session_token(self) -> str:
        """ç”Ÿæˆä¼šè¯ä»¤ç‰Œ"""
        return secrets.token_urlsafe(32)
```

#### 6.1.2 è®¿é—®æ§åˆ¶
- **æœ¬åœ°è®¿é—®é™åˆ¶**: ä»…å…è®¸æœ¬åœ°IPè®¿é—®API
- **ä¼šè¯ç®¡ç†**: å®ç°ä¼šè¯è¶…æ—¶å’Œä»¤ç‰ŒéªŒè¯
- **æƒé™æ§åˆ¶**: åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶(RBAC)
- **å®¡è®¡æ—¥å¿—**: è®°å½•æ‰€æœ‰æ•æ„Ÿæ“ä½œ

### 6.2 ç½‘ç»œå®‰å…¨

#### 6.2.1 HTTPSé…ç½®
```python
class HTTPSConfig:
    """HTTPSé…ç½®"""

    def __init__(self):
        self.ssl_context = ssl.create_default_context(ssl.Purpose.CLIENT_AUTH)
        self.ssl_context.load_cert_chain("cert.pem", "key.pem")

    def get_ssl_context(self):
        """è·å–SSLä¸Šä¸‹æ–‡"""
        return self.ssl_context
```

#### 6.2.2 ä»£ç†å®‰å…¨
- **ä»£ç†éªŒè¯**: éªŒè¯ä»£ç†æœåŠ¡å™¨çš„å¯ç”¨æ€§å’Œå®‰å…¨æ€§
- **æµé‡åŠ å¯†**: ä½¿ç”¨HTTPSä»£ç†ç¡®ä¿æ•°æ®ä¼ è¾“å®‰å…¨
- **IPè½®æ¢**: å®šæœŸæ›´æ¢ä»£ç†IPé¿å…è¢«å°ç¦
- **è¯·æ±‚é™æµ**: æ§åˆ¶è¯·æ±‚é¢‘ç‡é¿å…è§¦å‘åçˆ¬æœºåˆ¶

### 6.3 æµè§ˆå™¨å®‰å…¨

#### 6.3.1 æŒ‡çº¹é˜²æŠ¤
```python
class FingerprintProtection:
    """æŒ‡çº¹é˜²æŠ¤"""

    def __init__(self):
        self.user_agents = self._load_user_agents()
        self.screen_resolutions = ["1920x1080", "1366x768", "1440x900"]
        self.timezones = ["Asia/Shanghai", "America/New_York", "Europe/London"]

    def generate_random_fingerprint(self) -> dict:
        """ç”ŸæˆéšæœºæŒ‡çº¹"""
        return {
            "user_agent": random.choice(self.user_agents),
            "screen_resolution": random.choice(self.screen_resolutions),
            "timezone": random.choice(self.timezones),
            "language": random.choice(["zh-CN", "en-US", "en-GB"]),
            "platform": random.choice(["Win32", "MacIntel", "Linux x86_64"])
        }

    def apply_fingerprint(self, driver: WebDriver, fingerprint: dict):
        """åº”ç”¨æŒ‡çº¹é…ç½®"""
        # è®¾ç½®ç”¨æˆ·ä»£ç†
        driver.execute_cdp_cmd("Network.setUserAgentOverride", {
            "userAgent": fingerprint["user_agent"]
        })

        # è®¾ç½®æ—¶åŒº
        driver.execute_cdp_cmd("Emulation.setTimezoneOverride", {
            "timezoneId": fingerprint["timezone"]
        })
```

## 7. é”™è¯¯å¤„ç†å’Œæ—¥å¿—

### 7.1 å¼‚å¸¸å¤„ç†æ¶æ„

#### 7.1.1 å¼‚å¸¸åˆ†ç±»
```python
class BaseAppException(Exception):
    """åº”ç”¨åŸºç¡€å¼‚å¸¸"""
    def __init__(self, message: str, error_code: str = None):
        self.message = message
        self.error_code = error_code
        super().__init__(message)

class APIException(BaseAppException):
    """APIç›¸å…³å¼‚å¸¸"""
    pass

class TranslationException(BaseAppException):
    """ç¿»è¯‘ç›¸å…³å¼‚å¸¸"""
    pass

class DetectionException(BaseAppException):
    """æ£€æµ‹ç›¸å…³å¼‚å¸¸"""
    pass

class PublishException(BaseAppException):
    """å‘å¸ƒç›¸å…³å¼‚å¸¸"""
    pass

class BrowserException(BaseAppException):
    """æµè§ˆå™¨ç›¸å…³å¼‚å¸¸"""
    pass
```

#### 7.1.2 å…¨å±€å¼‚å¸¸å¤„ç†å™¨
```python
class GlobalExceptionHandler:
    """å…¨å±€å¼‚å¸¸å¤„ç†å™¨"""

    def __init__(self, logger):
        self.logger = logger
        self.error_counts = defaultdict(int)

    async def handle_exception(self, exc: Exception, context: dict = None):
        """å¤„ç†å¼‚å¸¸"""
        error_type = type(exc).__name__
        self.error_counts[error_type] += 1

        # è®°å½•é”™è¯¯æ—¥å¿—
        self.logger.error(
            "Exception occurred",
            exc_info=exc,
            extra={
                "error_type": error_type,
                "context": context,
                "count": self.error_counts[error_type]
            }
        )

        # æ ¹æ®å¼‚å¸¸ç±»å‹æ‰§è¡Œç›¸åº”å¤„ç†
        if isinstance(exc, APIException):
            await self._handle_api_exception(exc)
        elif isinstance(exc, TranslationException):
            await self._handle_translation_exception(exc)
        elif isinstance(exc, DetectionException):
            await self._handle_detection_exception(exc)
        elif isinstance(exc, PublishException):
            await self._handle_publish_exception(exc)
        elif isinstance(exc, BrowserException):
            await self._handle_browser_exception(exc)

    async def _handle_api_exception(self, exc: APIException):
        """å¤„ç†APIå¼‚å¸¸"""
        # åˆ‡æ¢åˆ°å¤‡ç”¨APIæä¾›å•†
        pass

    async def _handle_translation_exception(self, exc: TranslationException):
        """å¤„ç†ç¿»è¯‘å¼‚å¸¸"""
        # é‡è¯•æˆ–ä½¿ç”¨å¤‡ç”¨ç¿»è¯‘æœåŠ¡
        pass
```

### 7.2 æ—¥å¿—ç³»ç»Ÿ

#### 7.2.1 æ—¥å¿—é…ç½®
```python
class LogConfig:
    """æ—¥å¿—é…ç½®"""

    def __init__(self):
        self.log_level = "INFO"
        self.log_format = "{time:YYYY-MM-DD HH:mm:ss} | {level} | {name}:{function}:{line} | {message}"
        self.log_file_path = "logs/app.log"
        self.max_file_size = "100 MB"
        self.backup_count = 5

    def setup_logging(self):
        """è®¾ç½®æ—¥å¿—"""
        from loguru import logger

        # ç§»é™¤é»˜è®¤å¤„ç†å™¨
        logger.remove()

        # æ·»åŠ æ§åˆ¶å°å¤„ç†å™¨
        logger.add(
            sys.stdout,
            level=self.log_level,
            format=self.log_format,
            colorize=True
        )

        # æ·»åŠ æ–‡ä»¶å¤„ç†å™¨
        logger.add(
            self.log_file_path,
            level=self.log_level,
            format=self.log_format,
            rotation=self.max_file_size,
            retention=self.backup_count,
            compression="zip"
        )

        return logger
```

#### 7.2.2 ç»“æ„åŒ–æ—¥å¿—
```python
class StructuredLogger:
    """ç»“æ„åŒ–æ—¥å¿—å™¨"""

    def __init__(self, logger):
        self.logger = logger

    def log_api_request(self, provider: str, model: str, tokens: int, cost: float):
        """è®°å½•APIè¯·æ±‚"""
        self.logger.info(
            "API request completed",
            extra={
                "event_type": "api_request",
                "provider": provider,
                "model": model,
                "tokens_used": tokens,
                "cost": cost,
                "timestamp": datetime.utcnow().isoformat()
            }
        )

    def log_article_processed(self, article_id: int, status: str, duration: float):
        """è®°å½•æ–‡ç« å¤„ç†"""
        self.logger.info(
            "Article processed",
            extra={
                "event_type": "article_processed",
                "article_id": article_id,
                "status": status,
                "duration_seconds": duration,
                "timestamp": datetime.utcnow().isoformat()
            }
        )

    def log_detection_result(self, article_id: int, detection_type: str,
                           score: float, passed: bool):
        """è®°å½•æ£€æµ‹ç»“æœ"""
        self.logger.info(
            "Detection completed",
            extra={
                "event_type": "detection_result",
                "article_id": article_id,
                "detection_type": detection_type,
                "score": score,
                "passed": passed,
                "timestamp": datetime.utcnow().isoformat()
            }
        )
```

### 7.3 ç›‘æ§å’Œå‘Šè­¦

#### 7.3.1 ç³»ç»Ÿç›‘æ§
```python
class SystemMonitor:
    """ç³»ç»Ÿç›‘æ§å™¨"""

    def __init__(self):
        self.metrics = {
            "cpu_usage": 0.0,
            "memory_usage": 0.0,
            "disk_usage": 0.0,
            "network_io": 0.0,
            "active_tasks": 0,
            "error_rate": 0.0
        }

    async def collect_metrics(self):
        """æ”¶é›†ç³»ç»ŸæŒ‡æ ‡"""
        import psutil

        self.metrics.update({
            "cpu_usage": psutil.cpu_percent(),
            "memory_usage": psutil.virtual_memory().percent,
            "disk_usage": psutil.disk_usage('/').percent,
            "network_io": psutil.net_io_counters().bytes_sent + psutil.net_io_counters().bytes_recv,
            "timestamp": datetime.utcnow().isoformat()
        })

        return self.metrics

    def check_thresholds(self) -> List[str]:
        """æ£€æŸ¥é˜ˆå€¼å‘Šè­¦"""
        alerts = []

        if self.metrics["cpu_usage"] > 80:
            alerts.append("High CPU usage detected")

        if self.metrics["memory_usage"] > 85:
            alerts.append("High memory usage detected")

        if self.metrics["disk_usage"] > 90:
            alerts.append("High disk usage detected")

        return alerts
```
```
```
